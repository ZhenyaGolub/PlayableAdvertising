"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}var $score=document.querySelector("#score"),$question=document.querySelector("#question"),$background=document.querySelector("#background"),$result=document.querySelector("#result"),$umbrellas=document.querySelectorAll("#umbrella"),$continue=document.querySelector("#continue"),Score=function(){function e(){_classCallCheck(this,e),this.$result=$result,this.foundUmbrellas=0,this.score="".concat(this.foundUmbrellas," / 5")}return _createClass(e,[{key:"render",value:function(){this.$result.innerHTML=this.score}},{key:"find",value:function(){this.foundUmbrellas=this.foundUmbrellas+1,this.score="".concat(this.foundUmbrellas," / 5"),this.render()}}]),e}(),score=new Score;score.render();var startAnimation=function(){setTimeout((function(){$score.classList.add("score-animation"),$background.classList.add("background-animation"),$background.classList.add("mask-disappearance"),$question.classList.add("question-animation"),$background.addEventListener("transitionend",(function(){$background.classList.add("mask-disappearance-index")})),$question.addEventListener("transitionend",(function(){$question.style.display="none",initializationFind()}))}),1e3)},find=function e(n){var t=n.target;t.classList.contains("umbella")?(score.find(),t.classList.add("umbrella-animation")):(score.find(),t.parentNode.classList.add("umbrella-animation")),3===score.foundUmbrellas&&($umbrellas.forEach((function(n){n.removeEventListener("click",e),n.removeEventListener("transitionend",(function(){n.style.display="none"}))})),$background.addEventListener("transitionend",(function(){$background.classList.add("mask-appearance-index")})),setTimeout((function(){$background.classList.remove("background-animation"),$background.classList.add("background-animation-end"),$background.classList.add("mask-appearance"),$score.classList.add("score-animation-end")}),1e3),setTimeout((function(){$continue.style.display="block"}),2e3))},initializationFind=function(){$umbrellas.forEach((function(e){e.addEventListener("click",find),e.addEventListener("transitionend",(function(){e.style.display="none"}))})),$score.addEventListener("transitionend",(function(){$score.style.display="none"}))};startAnimation();